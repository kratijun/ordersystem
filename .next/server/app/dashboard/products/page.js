(()=>{var e={};e.id=95,e.ids=[95],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},7055:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o});var t=r(7096),a=r(6132),c=r(7284),n=r.n(c),l=r(2564),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(s,i);let o=["",{children:["dashboard",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7697)),"C:\\Users\\olive\\Desktop\\ordersystem\\app\\dashboard\\products\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5581)),"C:\\Users\\olive\\Desktop\\ordersystem\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9943)),"C:\\Users\\olive\\Desktop\\ordersystem\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\olive\\Desktop\\ordersystem\\app\\dashboard\\products\\page.tsx"],u="/dashboard/products/page",x={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/products/page",pathname:"/dashboard/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8066:(e,s,r)=>{Promise.resolve().then(r.bind(r,4471))},4471:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ProductsPage});var t=r(784),a=r(9885),c=r(4800),n=r(9576),l=r(599),i=r(5555),o=r(3770),d=r(2451),u=r(3422),x=r(1890),h=r(2385),p=r(9518),m=r(7004),g=r(9494),j=r(6303);function ProductsPage(){let{user:e}=(0,c.useAuth)(),[s,r]=(0,a.useState)([]),[f,y]=(0,a.useState)([]),[v,b]=(0,a.useState)(!0),[P,k]=(0,a.useState)(!1),[C,N]=(0,a.useState)(null),[_,w]=(0,a.useState)(""),[z,S]=(0,a.useState)(""),[A,q]=(0,a.useState)({name:"",price:"",category:""}),D=["Vorspeisen","Hauptgerichte","Desserts","Getr\xe4nke","Alkohol"];(0,a.useEffect)(()=>{fetchProducts()},[]),(0,a.useEffect)(()=>{filterProducts()},[s,_,z]);let fetchProducts=async()=>{try{let e=await n.fi.getAll();e&&"object"==typeof e&&"success"in e&&e.success&&r(e.data)}catch(e){console.error("Fehler beim Laden der Produkte:",e)}finally{b(!1)}},filterProducts=()=>{let e=s;_&&(e=e.filter(e=>e.name.toLowerCase().includes(_.toLowerCase())||e.category.toLowerCase().includes(_.toLowerCase()))),z&&(e=e.filter(e=>e.category===z)),y(e)},handleAddProduct=async()=>{if(A.name&&A.price&&A.category)try{let e=await n.fi.create({name:A.name,price:parseFloat(A.price),category:A.category});e&&"object"==typeof e&&"success"in e&&e.success&&(q({name:"",price:"",category:""}),k(!1),fetchProducts())}catch(e){console.error("Fehler beim Hinzuf\xfcgen des Produkts:",e)}},handleEditProduct=async()=>{if(C)try{let e=await n.fi.update(C.id,{name:C.name,price:C.price,category:C.category});e&&"object"==typeof e&&"success"in e&&e.success&&(N(null),fetchProducts())}catch(e){console.error("Fehler beim Bearbeiten des Produkts:",e)}},handleDeleteProduct=async e=>{if(confirm("Sind Sie sicher, dass Sie dieses Produkt l\xf6schen m\xf6chten?"))try{let s=await n.fi.delete(e);s&&"object"==typeof s&&"success"in s&&s.success&&fetchProducts()}catch(e){console.error("Fehler beim L\xf6schen des Produkts:",e)}},getCategoryBadgeColor=e=>{switch(e){case"Vorspeisen":return"bg-blue-100 text-blue-800";case"Hauptgerichte":return"bg-green-100 text-green-800";case"Desserts":return"bg-pink-100 text-pink-800";case"Getr\xe4nke":return"bg-cyan-100 text-cyan-800";case"Alkohol":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return v?t.jsx("div",{className:"flex justify-center items-center h-64",children:"Laden..."}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Produktverwaltung"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Verwalten Sie Ihre Speisekarte und Getr\xe4nke."})]}),(0,t.jsxs)(i.z,{onClick:()=>k(!0),children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Produkt hinzuf\xfcgen"]})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(o.I,{placeholder:"Produkte durchsuchen...",value:_,onChange:e=>w(e.target.value),className:"pl-10"})]})}),t.jsx("div",{className:"w-48",children:(0,t.jsxs)("select",{value:z,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Alle Kategorien"}),D.map(e=>t.jsx("option",{value:e,children:e},e))]})})]}),P&&(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Neues Produkt hinzuf\xfcgen"})}),(0,t.jsxs)(l.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"productName",children:"Name"}),t.jsx(o.I,{id:"productName",value:A.name,onChange:e=>q({...A,name:e.target.value}),placeholder:"z.B. Schnitzel Wiener Art"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"productPrice",children:"Preis (€)"}),t.jsx(o.I,{id:"productPrice",type:"number",step:"0.01",value:A.price,onChange:e=>q({...A,price:e.target.value}),placeholder:"z.B. 12.50"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{htmlFor:"productCategory",children:"Kategorie"}),(0,t.jsxs)("select",{id:"productCategory",value:A.category,onChange:e=>q({...A,category:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"Kategorie w\xe4hlen"}),D.map(e=>t.jsx("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"mt-4 space-x-2",children:[t.jsx(i.z,{onClick:handleAddProduct,children:"Hinzuf\xfcgen"}),t.jsx(i.z,{variant:"outline",onClick:()=>k(!1),children:"Abbrechen"})]})]})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[t.jsx(m.Z,{className:"h-5 w-5"}),"Produkte (",f.length,")"]})}),t.jsx(l.aY,{children:(0,t.jsxs)(u.iA,{children:[t.jsx(u.xD,{children:(0,t.jsxs)(u.SC,{children:[t.jsx(u.ss,{children:"Name"}),t.jsx(u.ss,{children:"Kategorie"}),t.jsx(u.ss,{children:"Preis"}),t.jsx(u.ss,{children:"Verk\xe4ufe"}),t.jsx(u.ss,{children:"Aktionen"})]})}),t.jsx(u.RM,{children:f.map(e=>(0,t.jsxs)(u.SC,{children:[t.jsx(u.pj,{children:C?.id===e.id?t.jsx(o.I,{value:C.name,onChange:e=>N({...C,name:e.target.value})}):t.jsx("span",{className:"font-medium",children:e.name})}),t.jsx(u.pj,{children:C?.id===e.id?t.jsx("select",{value:C.category,onChange:e=>N({...C,category:e.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded",children:D.map(e=>t.jsx("option",{value:e,children:e},e))}):t.jsx(x.C,{variant:"secondary",className:getCategoryBadgeColor(e.category),children:e.category})}),t.jsx(u.pj,{children:C?.id===e.id?t.jsx(o.I,{type:"number",step:"0.01",value:C.price,onChange:e=>N({...C,price:parseFloat(e.target.value)})}):(0,t.jsxs)("span",{className:"font-semibold",children:["€",e.price.toFixed(2)]})}),t.jsx(u.pj,{children:(0,t.jsxs)("span",{className:"text-gray-600",children:[e._count?.orderItems||0,"x verkauft"]})}),t.jsx(u.pj,{children:C?.id===e.id?(0,t.jsxs)("div",{className:"space-x-2",children:[t.jsx(i.z,{size:"sm",onClick:handleEditProduct,children:"Speichern"}),t.jsx(i.z,{size:"sm",variant:"outline",onClick:()=>N(null),children:"Abbrechen"})]}):(0,t.jsxs)("div",{className:"space-x-2",children:[t.jsx(i.z,{size:"sm",variant:"outline",onClick:()=>N(e),children:t.jsx(g.Z,{className:"h-4 w-4"})}),t.jsx(i.z,{size:"sm",variant:"destructive",onClick:()=>handleDeleteProduct(e.id),children:t.jsx(j.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:D.map(e=>{let r=s.filter(s=>s.category===e).length;return t.jsx(l.Zb,{children:t.jsx(l.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:e}),t.jsx("p",{className:"text-2xl font-bold",children:r})]}),t.jsx(x.C,{variant:"secondary",className:getCategoryBadgeColor(e),children:e})]})})},e)})})]})}},7697:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>c,default:()=>i});var t=r(5153);let a=(0,t.createProxy)(String.raw`C:\Users\olive\Desktop\ordersystem\app\dashboard\products\page.tsx`),{__esModule:c,$$typeof:n}=a,l=a.default,i=l}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[204,80,61,524,256,828,844,41,890,928,422],()=>__webpack_exec__(7055));module.exports=r})();